<<<<<<< HEAD
---
title: "Super Awesome Project Template"
output: word_document
date: "2023-03-31"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Section One Julia

```{r student1}
library(rvest)
country_url <- "https://en.wikipedia.org/wiki/List_of_Billboard_number-one_country_songs_of_2023"
html <- read_html(country_url)
cast <- html_nodes(html, "td:nth-child(3) .fn a , th+ td > a")

html_text(cast, trim = TRUE)


```


## Section Two Tessa

```{r student2}
y <- "does it work"
x <-"did she work"
```

## Section Three Eva
commit test
```{r student3}
library(rvest)
# 1958, 2012-2023
url1_years <- c(1958, 2012:2023)
url1 <- "https://en.wikipedia.org/wiki/List_of_Billboard_number-one_country_songs_of_"

urlfunction1 <- function(year) {
country_url <- paste0(url1, year)
html <- read_html(country_url)
cast <- html_nodes(html, "td:nth-child(3) .fn a , th+ td > a")

html_text(cast, trim = TRUE) 
}
for (i in url1_years) {
  urlfunction1(i)
}

# 1959-1961
url2_years <- c(1959:1961)
url2 <- "https://en.wikipedia.org/wiki/List_of_Hot_C%26W_Sides_number_ones_of_"

urlfunction2 <- function(year) {
country_url <- paste0(url2, year)
html <- read_html(country_url)
cast <- html_nodes(html, ".jquery-tablesorter span a , .jquery-tablesorter th a")

html_text(cast, trim = TRUE) 
}
for (i in url2_years) {
  urlfunction2(i)
}

# 1962-1989
url3_years <- c(1962:1989)
url3 <- "https://en.wikipedia.org/wiki/List_of_Hot_Country_Singles_number_ones_of_"

urlfunction3 <- function(year) {
country_url <- paste0(url3, year)
html <- read_html(country_url)
cast <- html_nodes(html, ".fn a , td > a")

html_text(cast, trim = TRUE) 
}
for (i in url3_years) {
  urlfunction3(i)
}

# 1990-2004
url4_years <- c(1990:2004)
url4 <- "https://en.wikipedia.org/wiki/List_of_Hot_Country_Singles_%26_Tracks_number_ones_of_"

urlfunction4 <- function(year) {
country_url <- paste0(url4, year)
html <- read_html(country_url)
cast <- html_nodes(html, ".jquery-tablesorter th+ td a , .jquery-tablesorter th a")

html_text(cast, trim = TRUE) 
}
for (i in url4_years) {
  urlfunction4(i)
}

# 2005-2011
url5_years <- c(2005:2011)
url5 <- "https://en.wikipedia.org/wiki/List_of_Hot_Country_Songs_number_ones_of_"

urlfunction5 <- function(year) {
  country_url <- paste0(url5, year)
html <- read_html(country_url)
cast <- html_nodes(html, ".jquery-tablesorter th+ td a , .jquery-tablesorter th a")

html_text(cast, trim = TRUE) 
}
for (i in url5_years) {
  urlfunction5(i)
}


```


## Section Four Sophie 

```{r student4}

urlfunction <- function(year) {
  if (year == 1958 || (year >= 2012 && year <= 2023)) {
      country_url <- paste0("https://en.wikipedia.org/wiki/List_of_Billboard_number-one_country_songs_of_",  year)
      html <- read_html(country_url)
      cast <- html_nodes(html, "td:nth-child(3) .fn a , th+ td > a")
  }else if (year >= 1959 && year <= 1961){
      country_url <- paste0("https://en.wikipedia.org/wiki/List_of_Hot_C%26W_Sides_number_ones_of_",  year)
      html <- read_html(country_url)
      cast <- html_nodes(html, ".jquery-tablesorter span a , .jquery-tablesorter th a")
  }else if (year >= 1962 && year <= 1989) {
      country_url <- paste0("https://en.wikipedia.org/wiki/List_of_Hot_Country_Singles_number_ones_of_",  year)
      html <- read_html(country_url)
      cast <- html_nodes(html, ".fn a , td > a")
  }else if (year >= 1990 && year <= 2004) {
      country_url <- paste0("https://en.wikipedia.org/wiki/List_of_Hot_Country_Singles_%26_Tracks_number_ones_of_",  year)
      html <- read_html(country_url)
      cast <- html_nodes(html, ".jquery-tablesorter th+ td a , .jquery-tablesorter th a")
  }else { 
    country_url <- paste0("https://en.wikipedia.org/wiki/List_of_Hot_Country_Songs_number_ones_of_",  year)
    html <- read_html(country_url)
    cast <- html_nodes(html, ".jquery-tablesorter th+ td a , .jquery-tablesorter th a")
  }  

  html_text(cast, trim = TRUE) 
  tables <- html_table(html, fill = TRUE, header = TRUE)
  desired_table <- tables[[1]]
  desired_table <- desired_table[, c(2, 3)]
    #include only the second and third columns which are title and artist
  if ("Title" %in% desired_table[1, ]) {
    desired_table <- desired_table[-1, ]
    #get rid of top row if they have an extra header row
          }
  colnames(desired_table) <- c("Title", "Artist")
    #name columns
  desired_table$Year <- year
     #add columns for year
  desired_table$genre <- "Country" 
     #add column for genre
  desired_table <- unique(desired_table)
    #get rid of repeat columns
  return(desired_table)
      
}
TopSongs <- data.frame()
for(year in 1958:2023){
    current_year <- urlfunction(year)
    TopSongs <- rbind(TopSongs, current_year)
}

```
